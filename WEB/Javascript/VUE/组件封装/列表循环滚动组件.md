```js
<template>
  <div
    class="scrollComponent"
    :style="{height}"
  >
    <div
      class="scrollBox"
      :style="{transform, transition}"
    >
      <slot v-for="item in 2"></slot>
    </div>
  </div>
</template>

<script>
let moment = require('moment');
export default {
  name: "scrollComponent",
  props: {
    // 容器高度,超出隐藏
    height: String|Number,
    // 滚动次数,即一页可显示数据条数
    maxLength: String|Number,
    // 单次滚动距离,为一条数据及其margin和
    distance: String|Number,
    // 滚动时间间隔,默认为3秒
    timeOut: {
      type: String|Number,
      default: 3000
    },
    // 滚动动画完成时间,默认1秒
    duration: {
      type: String|Number,
      default: 1000
    }
  },
  data () {
    return {
      times: 0,
      scrollInterval: null,
      transform: '',
      transition: ''
    }
  },
  mounted() {
    this.play()
  },
  methods: {
    stopScroll() {
      clearInterval(this.scrollInterval)
    },
    startScroll() {
      this.play()
    },
    //  列表超出限定时,自动向上轮播
    play() {
      this.scrollInterval = setInterval(() => this.next(), this.timeOut)
    },
    // 让列表向上爬升一格
    async next() {
      this.times++;
      await this.slideTo(this.times * this.distance);
      // 滚到最后一个时,重置并直接回到原位
      if (this.times >= this.maxLength) {
        this.times = 0;
        this.goTo(0);
      }
    },
    // 缓动
    async slideTo(distance, duration = this.duration) {
      this.transition = duration + "ms";
      this.goTo(distance);
      await this.timeout(duration);
      this.transition = "";
    },
    async timeout (ms) {
      await new Promise((resolve) => {
        setTimeout(resolve, ms);
      });
    },
    // 直达
    goTo(distance) {
      this.transform = `translate3d(0,-${distance}px,0)`;
    }
  },
  beforeDestroy() {
    clearInterval(this.scrollInterval)
  }
}
</script>

<style scoped lang="scss">
.scrollComponent{
  overflow: hidden;
}
</style>

```

