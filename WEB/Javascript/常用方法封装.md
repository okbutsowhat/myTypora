# 常用方法封装

## 1 数组处理

### 1.1 数组按所需长度再分组

```js
// 传入数组和所需要分割的长度
// 例：sliceArry ([1, 2, 3, 4, 5, 6], 3)
// 得到 [[1, 2, 3], [4, 5, 6]]
sliceArray (array, size) {
  let result = []
  for (let x = 0; x < Math.ceil(array.length / size); x++) {
    let startIndex = x * size
    let endIndex = startIndex + size
    result.push(array.slice(startIndex, endIndex))
  }
  return result
}
```



## 2 数字处理

### 2.1 数字每千位加逗号

```js
addComma (num) {
  let res = (num.toString().indexOf ('.') !== -1) ? num.toLocaleString() : num.toString().replace(/(\d)(?=(?:\d{3})+$)/g, '$1,')
  return res
}
```

### 2.2 返回一个数组的总和

```js
function (aArray) {
  return eval(aArray.join("+"))
}
// 例: [1, 2, 3] => 6
```

### 2.3 将一个数字变为为重复n次的数组

```js
return Array(3).fill(Number)
// 例: Array(3).fill(2) => [2, 2, 2]
```



## 3 图片处理

### 3.1 图片转base64

```js
// 图片转base64函数,返回结果为promise
    getBase64(file) {
      return new Promise(function(resolve, reject) {
        let reader = new FileReader();
        let imgResult = "";
        reader.readAsDataURL(file);
        reader.onload = function() {
          imgResult = reader.result;
        };
        reader.onerror = function(error) {
          reject(error);
        };
        reader.onloadend = function() {
          resolve(imgResult);
        };
      });
    },
```

## 4 字符串处理

### 4.1 字符串基础

```js
let str = '123456789'
// 1. 返回字符串第n-m位
str.slice(0, 3) // '123'

// 2. 末尾链接字符
str.concat('newStr') // '123456789newStr'
```

